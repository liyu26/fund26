_jsload_('marker', 'z.la.M({Fb:function(){var c=this.a.map;c&&this.K(c);this.c("load")},K:function(c){this.a.map=c;this.a.position||(this.a.position=c.Fa());this.ra();this.update();this.td(!0);this.xj(this.a.draggable);c.d("viewreset",this.update,this).d("zoomanim",this.Ua,this);z.b.Ma(this.e,c.a.continuousZoomEnable?"amap-zoom-animated":"amap-zoom-hide")},pa:function(){this.a.map&&(this.a.map.i("viewreset",this.update,this).i("zoomanim",this.Ua,this),this.a.map=null);this.Uc&&this.Uc.disable();this.e&&(this.td(!1), this.e.parentNode.removeChild(this.e),this.e=null)},ra:function(){this.e=z.b.create("div",this.a.map.m.Zc,"amap-marker");this.Ug();this.Qa();this.Ch()},Ng:function(c){"string"===typeof c&&(this.a.title=c,this.e&&this.e.firstChild&&(this.e.firstChild.title=c,this.e.firstChild.alt=c))},$c:function(c){this.a.animation=c;this.update()},Ug:function(){if(this.e){var c=this.a,d=c.content,e=c.icon,g=this.e;g.innerHTML="";d?"object"===typeof d?g.appendChild(d):g.innerHTML=d:(e||(e=this.a.icon=new z.bb),"string"=== typeof e?(d=document.createElement("img"),d.src=e,g.appendChild(d),this.ob=d):(e.K(g),this.ob=e.ob),(e=this.a.shape)&&e.K(this),this.Hj(c.shadow));z.h.qg&&z.f.iepngFix(this.a.map,this.e)}return this},Hj:function(){var c=this.e,d=this.a.shadow;c&&d instanceof z.bb&&(d.K(c),d.Qa())},Ch:function(){if(!this.a.offset){var c=this.a.icon;this.a.offset=c&&c.a&&c.a.anchor?c.a.anchor.$(-1):new z.k(-10,-34)}},Qa:function(){if(this.e){var c=this.a,d=c.visible,e=c.cursor,g=c.opacity,h=this.e.style;h.zIndex=c.zIndex; h.visibility=d?"":"hidden";this.si!==g&&(z.b.Ta(this.e,g),this.si=g);this.ob?this.a.shape?this.a.shape.wh.style.cursor=e:this.ob.style.cursor=e:h.cursor=e}return this},td:function(c){var d="mouseover mouseout mousedown mousemove mouseup click dblclick contextmenu touchstart touchmove touchend".split(" ");c=c?z.g.d:z.g.i;for(var e=this.ob&&this.a.shape?this.a.shape.wh:this.e,g=0;g<d.length;g++)c.call(z.g,e,d[g],this.sd,this)},sd:function(c,d){var e=this.a.map,g=this.Uc,h=this.a.clickable,k=g&&g.Oe(), l=e.Va&&e.Va.dragEnable&&e.Va.dragEnable.Oe();if("mouseover"===d&&this.F(d)){if(this.of)return;this.of=!0}"mouseout"===d&&this.of&&(this.of=!1);if("click"===d&&((this.F(d)||k||!h)&&z.g.stopPropagation(c),k||!g&&l))return;"contextmenu"===d&&this.sd(c,"rightclick");if("contextmenu"===d||"rightclick"===d)z.g.preventDefault(c),(this.F(d)||this.F("mousedown")||this.F("mouseup"))&&z.g.stopPropagation(c);"dblclick"===d&&z.g.stopPropagation(c);({click:!0,dblclick:!0,rightclick:!0,contextmenu:!0})[d]&&!h|| !this.F(d)||(g=this.a.position,this.c(d,{lnglat:g,pixel:e.dc(g),target:this,originalEvent:c}))},update:function(){if(this.e&&this.a.position){var c=this.a,d=this.e,e=c.map.da(c.position).add(c.offset),g=c.angle,c=c.title;"undefined"!==typeof z.la.H[this.a.animation]&&(d.Y=d.Y||{},d.Y.type=this.a.animation,d.Da||(d.Da=this));z.b.u(d,e);g&&z.b.rotate(d,g);"string"===typeof c&&d.firstChild&&(d.firstChild.title=c,d.firstChild.alt=c)}return this},Ua:function(c){var d=this.a;c=d.map.di(d.position,c.zoom, c.center).add(d.offset);z.b.u(this.e,c)},u:function(c){this.a.position=c;return this.update()},Kg:function(c){this.a.angle=c;return this.update()},Qg:function(c){var d=this.a.map;if(d){if(d.ga.ib){var e=d.ga.zIndex,e=Math.max(c,e-1)+1;d.ga.ib.a.zIndex=e;d.ga.ib.Qa()}this.a.top.isTop?this.a.top.zIndex=c:this.a.zIndex=c}else this.a.zIndex=c;return this.Qa()},Hg:function(c){this.a.icon=c;this.Ug();this.Ch()},Lg:function(c){var d=this.a.shadow;this.a.shadow instanceof AMap.bb&&d.De();this.a.shadow=c; this.Hj(c)},vn:function(c){this.a.cursor=c;return this.Qa()},Ta:function(c){this.a.opacity=c;return this.Qa()},show:function(){this.a.visible=!0;return this.Qa()},Lb:function(){this.a.visible=!1;return this.Qa()},xj:function(c){this.a.draggable=c;this.Uc||(this.Uc=new z.Qj(this));c?this.Uc.enable():this.Uc.disable();return this},Ac:function(c){this.a.content=c;return this.Ug()},Bn:function(c){this.a.offset=c;return this.update()},kj:function(c,d,e,g){function h(){k++;k<c.length?this.moveTo(c[k],d, e):(this.c("movealong"),g?(k=1,this.u(c[0]),this.moveTo(c[1],d,e)):this.i("moveend",h,this))}var k=0;this.u(c[0]);this.d("moveend",h,this);this.moveTo(c[1],d,e)},moveTo:function(c,d,e){var g=this.sa(),h=c.w(g),k=Math.round(3.6*c.ya(g)/d),l=0;if(0===k)return this.c("moveend");e=e||function(c,d,e,g){return e*c/g+d};this.Rg();this.fi=setInterval(z.f.bind(function(){l++;this.u(new z.t(e(l,g.Za(),h.Za(),k),e(l,g.Ya(),h.Ya(),k)));l>=k&&(this.Rg(),this.u(c).c("moveend"));this.c("moving")},this),40);this.a.autoRotation&& this.a.map&&this.Kg(this.xk(g,c));return this},xk:function(c,d){var e=this.a.map,g=e.N(c,e.q()),e=e.N(d,e.q()),h=0;e.ya(g);var k=e.y-g.y,l=e.x-g.x;0!==e.x-g.x?(h=Math.atan((e.y-g.y)/(e.x-g.x)),0<=k&&0>l?h=Math.PI+h:0>k&&0>=l?h=Math.PI+h:0>k&&0<=l&&(h=2*Math.PI+h)):h=e.y>g.y?Math.PI/2:3*Math.PI/2;return z.f.Zf(180*h/Math.PI,1)},Rg:function(){this.fi&&window.clearInterval(this.fi)},Og:function(c){var d=this.a.map,e=d.ga.ib;d&&(this.a.top.isTop?c||(this.a.top.isTop=c,this.a.zIndex=this.a.top.zIndex): c&&(e&&e instanceof z.la&&(e.Vf(d),e.Qa()),d.ga.ib=this,c=this.a.zIndex,this.Sf(c,d),this.a.top.zIndex=c,this.a.top.isTop=!0),this.Qa())}});z.la.A({u:"setPosition",Kg:"setRotation",Qg:"setzIndex",Hg:"setIcon",vn:"setCursor",Ta:"setOpacity",show:"show",Lb:"hide",xj:"setDraggable",Ac:"setContent",Bn:"setOffset",kj:"moveAlong",moveTo:"moveTo",Rg:"stopMove",Ng:"setTitle",Og:"setTop",Lg:"setShadow",$c:"setAnimation"});z.la.H=z.la.H||{}; z.la.H={AMAP_ANIMATION_NONE:!1,AMAP_ANIMATION_DROP:{update:function(c){var d=c.Y.position.y,e=c.Y.position.x,g=c.Y.sg;return(new z.H({x:0,y:0})).Wd({x:0,y:0},1E3).Oi(200).Ed(z.H.Easing.Bounce.Out).Sd(function(h){h={x:e+0*h,y:d+500*(h-1)};g?c.style[z.b.ma]=z.b.cc(h):(c.style.left=h.x+"px",c.style.top=h.y+"px")}).Rd(function(){c.Y.type=!1}).start()}},AMAP_ANIMATION_BOUNCE:{update:function(c){function d(){h?c.style[z.b.ma]=z.b.cc(k):(c.style.left=k.x+"px",c.style.top=k.y+"px")}var e=c.Y.position.y,g= c.Y.position.x,h=c.Y.sg,k={x:g,y:e},l={x:g,y:e-30},l=(new AMap.H(k)).Wd(l,500).Ed(AMap.H.Easing.Cubic.Out).Sd(d),e=(new AMap.H(k)).Wd({x:g,y:e},500).Ed(AMap.H.Easing.Cubic.In).Sd(d);l.Rf(e);e.Rf(l);l.start();return l}},AMAP_ANIMATION_DROPA:{update:function(c){var d=c.Y.position.y,e=c.Y.position.x,g=c.Y.sg,h={x:e,y:d},d={x:e,y:d+30};return(new z.H(h)).Wd(d,1E3).Ed(z.H.Easing.Bounce.Out).Sd(function(){g?c.style[z.b.ma]=z.b.cc(h):(c.style.left=h.x+"px",c.style.top=h.y+"px")}).Rd(function(){c.Da.$c("AMAP_ANIMATION_NONE")}).start()}}};z.Qj=z.kb.extend({r:function(c){this.Da=c},qb:function(){var c=this.Da.e;this.e!==c&&(this.e=c,this.na=void 0);this.na||(this.na=(new z.ea(c,c)).d("dragstart",this.Af,this).d("drag",this.yf,this).d("dragend",this.zf,this));this.na.enable()},zb:function(){this.na.disable()},Oe:function(){return this.na&&this.na.pb},Af:function(){var c=this.Da;this.Kf(["dragstart"]);c.a.raiseOnDrag&&this.Da.pl()},yf:function(){var c=this.Da;this.zl();c.a.raiseOnDrag&&this.Da.xa();this.Kf(["dragging"])},zf:function(){var c= this.Da;this.Kf(["dragend"]);c.a.raiseOnDrag&&this.Da.tk()},zl:function(){var c=this.Da,d=c.a;d.position=d.map.Xc(z.b.sa(c.e).w(d.offset))},Kf:function(c){for(var d=this.Da,e=d.a,g=e.position,e=e.map.dc(g),g={lnglat:g,pixel:e,target:d},e=0;e<c.length;e++)d.c(c[e],g)}});z.la.M({pl:function(){var c=this.a,d=this.e,e=c.map.da(c.position).add(c.offset);this.ld||(this.ld={x:0,y:30});this.$c("AMAP_ANIMATION_NONE");z.b.u(d,e.w(this.ld));this.ak(c.position)},ak:function(){var c={top:this.ld.y+31.5+"px",left:"5.5px",display:""};this.ee instanceof z.bb?(this.ee.a.iconStyle=c,this.ol()):(c=new z.bb({image:z.o.bc+"/theme/v1.2/dragCross.png",iconStyle:c}),this.xl(c))},tk:function(){var c=this.a,d=this.e,c=c.map.da(c.position).add(c.offset).w(this.ld);this.Fk();this.$c("AMAP_ANIMATION_DROPA"); z.b.u(d,c)},xa:function(){var c=this.a,d=c.map,e=z.b.sa(this.e).w(c.offset).add(this.ld);c.position=d.Xc(e)},xl:function(c){var d=this.e;this.ee=c;d&&c instanceof z.bb&&(c.K(d),c.Qa())},ol:function(){var c=this.ee;c&&c.Qa()},Fk:function(){var c=this.ee;c&&(c.a.iconStyle={display:"none"},c.Qa())}}); ')