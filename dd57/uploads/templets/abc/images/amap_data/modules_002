_jsload_('infowindow', 'z.ic.M({Fb:function(){var c=this.a.map;c&&this.K(c);this.c("load")},K:function(c){this.a.map=c;this.ra();var d=c.a.fadeAnimation;d&&z.b.Ta(this.e,0);this.qc();this.rc();this.xa();this.cf();d&&z.b.Ta(this.e,1);this.td(!0);c.d("viewreset",this.xa,this).d("zoomanim",this.Ua,this).d("click",this.ii,this);this.d("content_change",this.qc,this).d("content_change",this.rc,this).d("content_change",this.xa,this).d("size_change",this.rc,this).d("size_change",this.xa,this).d("position_change",this.xa,this).d("reopen", this.cf,this);z.b.Ma(this.e,c.a.continuousZoomEnable?"amap-zoom-animated":"amap-zoom-hide")},pa:function(){this.i("content_change",this.qc,this).i("content_change",this.xa,this).i("content_change",this.xa,this).i("size_change",this.rc,this).i("size_change",this.xa,this).i("position_change",this.xa,this).i("reopen",this.cf,this);this.a.map&&(this.a.map.i("viewreset",this.xa,this).i("zoomanim",this.Ua,this).i("click",this.ii,this),this.a.map=null);this.e&&(this.td(!1),this.e.parentNode.removeChild(this.e), this.hf=this.e=null)},ra:function(){this.a.map&&(this.e=z.b.create("div",this.a.map.m.Zc,"amap-info"))},qc:function(){var c=this.e;if(c){for(;c.firstChild;)c.removeChild(c.firstChild);!this.a.isCustom&&this.a.showShadow&&(this.ml=z.b.create("div",c,"amap-info-shadow"));c.appendChild(this.kk())}},kk:function(){var c=this.a.content,d=z.b.create("div");if(c&&("object"==typeof c?d.appendChild(c):d.innerHTML=c,!this.a.isCustom)){var c=d,d=z.b.create("div"),e=z.b.create("a",d,"amap-info-close"),g=z.b.create("div", d,"amap-info-outer"),g=z.b.create("div",g,"amap-info-content"),h=z.b.create("div",d,"amap-info-sharp");e.innerHTML="\\u00d7";e.href="javascript:void(0)";z.g.d(e,"click",function(c){z.g.stop(c);this.close()},this);g.appendChild(c);this.hf=g;this.nl=h}return d},rc:function(){if(!this.a.isCustom){var c=this.e,d=this.a.size;if(c&&d instanceof z.lb){var e=d.ta(),d=d.za();this.a.isCustom?(0<e&&(c.style.width=e+"px"),0<d&&(c.style.height=d+"px")):(0<e&&(this.hf.style.width=e+"px",this.e.style.width=e+20+ "px"),0<d&&(this.hf.style.height=d+"px"))}this.Bl()}},Bl:function(){if(!this.a.isCustom&&this.a.showShadow){var c=this.ml,d=z.b.mg(this.e),e=d.height-47,g=d.width;c.innerHTML="";var d=[],h;h=d[1]={};h.height=e*Math.sin(Math.PI/4);h.width=g;h.offsetX=455-h.height;h.offsetY=20;h.top=-h.height-10-15;h.left=0;h=d[2]={};h.height=d[1].height;h.width=d[1].height;h.offsetX=1075-h.width;h.offsetY=d[1].offsetY;h.top=d[1].top;h.left=d[1].width;h=d[3]={};h.height=10;h.width=22;h.offsetX=30;h.offsetY=445;h.top= -25;h.left=0;h=d[4]={};h.height=10;h.width=g/2+-20-40;h.offsetX=132;h.offsetY=445;h.top=-25;h.left=d[3].left+d[3].width;h=d[5]={};h.height=10;h.width=40;h.offsetX=92;h.offsetY=445;h.top=-25;h.left=d[4].left+d[4].width;h=d[6]={};h.height=10;h.width=g-d[5].left-d[5].width-d[3].width;h.offsetX=132;h.offsetY=445;h.top=-25;h.left=d[5].left+d[5].width;h=d[7]={};h.height=10;h.width=d[3].width;h.offsetX=628;h.offsetY=445;h.top=-25;h.left=g-d[7].width;h=d[8]={};h.height=15;h.width=50;h.offsetX=50;h.offsetY= 465;h.top=-15;h.left=g/2-h.width/2-30;for(e=1;8>=e;e+=1)g=z.b.create("div",c),h=[],h.push("top:"+d[e].top+"px;"),h.push("left:"+d[e].left+"px;"),h.push("width:"+d[e].width+"px;"),h.push("height:"+d[e].height+"px;"),h.push("background-position:"+-d[e].offsetX+"px "+-d[e].offsetY+"px;"),g.style.cssText=h.join("")}},xa:function(){var c=this.e,d=this.a.position,e=this.a.map;c&&(d&&e)&&z.b.u(c,e.da(d).add(this.gf(),!0))},gf:function(){var c=new z.k(14-this.e.offsetWidth/2,2-this.e.offsetHeight),d=this.a.offset|| new z.k(0,0);this.a.isCustom||(c=c.add(new z.k(0,-23)),this.nl.style.left=-c.vb()+"px");return c.add(d)},cf:function(){if(this.a.autoMove){for(var c=this.a.map,d=new z.lb(this.zk(),this.e.offsetHeight),e=c.dc(this.a.position).add(this.gf()),g=e.add(d.ka()),h=c.C(),k=c.fm(),l=0,m=0,n=0;n<k.length;n++){var q=k[n],r=0,p=0;0===q[1]&&0===q[2]?(r=q[3]-(e.x+l),p=q[0]-(e.y+m),0<r&&0<p&&(Math.abs(r)<Math.abs(p)?l+=r:m+=p)):0===q[2]&&0===q[3]?(r=h.ta()-q[1]-(g.x+l),p=q[0]-(e.y+m),0>r&&0<p&&(Math.abs(r)<Math.abs(p)? l+=r:m+=p)):0===q[0]&&0===q[3]?(r=h.ta()-q[1]-(g.x+l),p=h.za()-q[2]-(g.y+m),0>r&&0>p&&(Math.abs(r)<Math.abs(p)?l+=r:m+=p)):0===q[0]&&0===q[1]&&(r=q[3]-(e.x+l),p=h.za()-q[2]-(g.y+m),0<r&&0>p&&(Math.abs(r)<Math.abs(p)?l+=r:m+=p))}e=e.add(new z.k(l,m));g=g.add(new z.k(l,m));n=k=0;0>e.x||d.ta()>h.ta()?k=5-e.x:h.ta()<g.x&&(k=h.ta()-g.x-5);0>e.y||d.za()>h.za()?n=5-e.y:h.za()<g.y&&(n=h.za()-g.y-5);k+=l;n+=m;(k||n)&&c.fc(new z.k(k,n))}},zk:function(){if(!this.a.isCustom)return this.e.offsetWidth;for(var c= this.e,d=c.firstChild,e=c.lastChild;d&&e&&d.style&&e.style&&d===e;)c=d,d=c.firstChild,e=c.lastChild;c=z.b.Wc(c,"width");return c=parseInt(c.replace("px",""),10)},td:function(c){var d="mouseover mouseout mousedown mousemove mouseup click dblclick contextmenu touchstart touchmove touchend".split(" ");c=c?z.g.d:z.g.i;for(var e=0;e<d.length;e++)c.call(z.g,this.e,d[e],this.sd,this)},sd:function(c,d){var e=this.a.map;"click"===d&&(e.Uh=!0);"mousedown"!==d&&"touchstart"!==d||z.g.stopPropagation(c);"contextmenu"=== d&&this.sd(c,"rightclick");"contextmenu"!==d&&"rightclick"!==d&&"dblclick"!==d||z.g.stopPropagation(c);if(this.F(d)){var g=this.a.position;this.c(d,{lnglat:g,pixel:e.dc(g),target:this,originalEvent:c})}},Ua:function(c){var d=this.a;c=d.map.di(d.position,c.zoom,c.center).add(this.gf());z.b.u(this.e,c)},ii:function(){this.a.closeWhenClickMap&&this.close()}}); ')